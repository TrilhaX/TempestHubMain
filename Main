repeat wait() until game:IsLoaded()
local queue_on_teleport = queue_on_teleport or syn.queue_on_teleport or fluxus.queue_on_teleport or function(...)
    return ...
end

game.Players.LocalPlayer.OnTeleport:Connect(function(State)
    if State == Enum.TeleportState.Started or State == Enum.TeleportState.InProgress then
        queue_on_teleport([[
            repeat wait() until game:IsLoaded()
            wait(2)
            if getgenv().executed then return end
            loadstring(game:HttpGet("https://raw.githubusercontent.com/TrilhaX/scriptexec/main/mainExec.lua"))()
            getgenv().executed = true
        ]])
    end
end)

if getgenv().executed then return end
loadstring(game:HttpGet("https://raw.githubusercontent.com/TrilhaX/scriptexec/main/mainExec.lua"))()
getgenv().executed = true
